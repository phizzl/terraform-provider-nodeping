---
page_title: "nodeping_contact Resource - terraform-provider-nodeping"
subcategory: ""
description: |-
  Manages a NodePing contact for receiving notifications.
---

# nodeping_contact (Resource)

Manages a NodePing contact for receiving notifications.

## Example Usage

### Basic Contact with Email

```hcl
resource "nodeping_contact" "basic" {
  name     = "Operations Team"
  custrole = "notify"

  address {
    type    = "email"
    address = "ops@example.com"
  }
}
```

### Contact with Multiple Addresses

```hcl
resource "nodeping_contact" "multi" {
  name     = "On-Call Engineer"
  custrole = "notify"

  address {
    type    = "email"
    address = "oncall@example.com"
  }

  address {
    type    = "sms"
    address = "+1-555-123-4567"
  }

  address {
    type     = "pushover"
    address  = "user-key"
    priority = 1
  }
}
```

### Contact with Webhook

```hcl
resource "nodeping_contact" "webhook" {
  name     = "Slack Notifications"
  custrole = "notify"

  address {
    type    = "webhook"
    address = "https://hooks.slack.com/services/XXX/YYY/ZZZ"
    action  = "post"
    headers = {
      "Content-Type" = "application/json"
    }
    data = jsonencode({
      text = "NodePing Alert: {{label}} is {{event}}"
    })
  }
}
```

### Contact with Notification Suppression

```hcl
resource "nodeping_contact" "critical_only" {
  name     = "Critical Alerts Only"
  custrole = "notify"

  address {
    type           = "email"
    address        = "critical@example.com"
    suppress_up    = true
    suppress_first = true
  }
}
```

## Argument Reference

### Top-Level Arguments

- `name` - (Optional) The name of the contact. Used as a display label.
- `custrole` - (Optional) The permission role for this contact. Valid values: `edit`, `view`, `notify`. Defaults to `notify`.
  - `edit` - Can edit account settings and checks
  - `view` - Can view account settings and checks
  - `notify` - Can only receive notifications

### Address Block

The `address` block supports the following arguments:

- `type` - (Required) The type of notification address. Valid values:
  - `email` - Email address
  - `sms` - SMS phone number
  - `voice` - Voice call phone number
  - `webhook` - HTTP webhook
  - `slack` - Slack webhook
  - `pushover` - Pushover notification
  - `pagerduty` - PagerDuty integration
  - `hipchat` - HipChat (legacy)

- `address` - (Required) The address value. Format depends on type:
  - Email: `user@example.com`
  - SMS/Voice: `+1-555-123-4567`
  - Webhook: `https://example.com/webhook`

- `suppress_up` - (Optional) Suppress "up" notifications. Defaults to `false`.
- `suppress_down` - (Optional) Suppress "down" notifications. Defaults to `false`.
- `suppress_first` - (Optional) Suppress "first result" notifications. Defaults to `false`.
- `suppress_diag` - (Optional) Suppress diagnostic notifications. Defaults to `false`.
- `suppress_all` - (Optional) Suppress all notifications. Defaults to `false`.
- `mute` - (Optional) Mute all notifications to this address. Defaults to `false`.

#### Webhook-Specific Arguments

- `action` - (Optional) HTTP method for webhook requests. Valid values: `get`, `put`, `post`, `head`, `delete`. Defaults to `get`.
- `headers` - (Optional) Map of HTTP headers to send with webhook requests.
- `querystrings` - (Optional) Map of query string parameters to append to webhook URL.
- `data` - (Optional) Request body for POST/PUT webhook requests.

#### Pushover-Specific Arguments

- `priority` - (Optional) Pushover notification priority. Valid values: `-2` to `2`. Defaults to `2`.

## Attribute Reference

In addition to all arguments above, the following attributes are exported:

- `id` - The unique identifier of the contact.
- `customer_id` - The customer ID (account ID) that owns this contact.

Each `address` block also exports:

- `id` - The unique identifier of the address within the contact.

## Import

Contacts can be imported using the contact ID:

```shell
terraform import nodeping_contact.example 201205050153W2Q4C-BKPGH
```

For SubAccount contacts, use the format `customer_id:contact_id`:

```shell
terraform import nodeping_contact.example 201205050153W2Q4C:201205050153W2Q4C-BKPGH
```

## Notes

- Contacts with `edit` or `view` roles will receive a welcome email with login credentials.
- To avoid welcome emails, create the contact with `notify` role first, then update to `edit` or `view`.
- Address IDs are generated by NodePing and cannot be set manually.
